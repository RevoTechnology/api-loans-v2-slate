
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Documentation</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all_nosearch.js"></script>
  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#3394112aa9" class="toc-h1 toc-link" data-title="">Введение</a>
          </li>
          <li>
            <a href="#93900fccba" class="toc-h1 toc-link" data-title="">Авторизация</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#url" class="toc-h2 toc-link" data-title="url">Базовые URL адреса</a>
                  </li>
                  <li>
                    <a href="#3b61794258" class="toc-h2 toc-link" data-title="">Параметры авторизации</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#api" class="toc-h1 toc-link" data-title="api">Методы API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#post-sessions" class="toc-h2 toc-link" data-title="post-sessions">POST sessions</a>
                  </li>
                  <li>
                    <a href="#delete-sessions" class="toc-h2 toc-link" data-title="delete-sessions">DELETE sessions</a>
                  </li>
                  <li>
                    <a href="#post-loan_requests" class="toc-h2 toc-link" data-title="post-loan_requests">POST loan_requests</a>
                  </li>
                  <li>
                    <a href="#get-loan_requests-token" class="toc-h2 toc-link" data-title="get-loan_requests-token">GET loan_requests/{token}</a>
                  </li>
                  <li>
                    <a href="#put-loan_requests-token" class="toc-h2 toc-link" data-title="put-loan_requests-token">PUT loan_requests/{token}</a>
                  </li>
                  <li>
                    <a href="#get-loan_requests-token-client" class="toc-h2 toc-link" data-title="get-loan_requests-token-client">GET loan_requests/{token}/client</a>
                  </li>
                  <li>
                    <a href="#post-loan_requests-token-client" class="toc-h2 toc-link" data-title="post-loan_requests-token-client">POST loan_requests/{token}/client</a>
                  </li>
                  <li>
                    <a href="#patch-loan_requests-token-client" class="toc-h2 toc-link" data-title="patch-loan_requests-token-client">PATCH loan_requests/{token}/client</a>
                  </li>
                  <li>
                    <a href="#post-loan_requests-token-confirmation" class="toc-h2 toc-link" data-title="post-loan_requests-token-confirmation">POST loan_requests/{token}/confirmation</a>
                  </li>
                  <li>
                    <a href="#post-loan_requests-token-client-confirmation" class="toc-h2 toc-link" data-title="post-loan_requests-token-client-confirmation">POST loan_requests/{token}/client/confirmation</a>
                  </li>
                  <li>
                    <a href="#post-loan_requests-token-loan" class="toc-h2 toc-link" data-title="post-loan_requests-token-loan">POST loan_requests/{token}/loan</a>
                  </li>
                  <li>
                    <a href="#post-loan_requests-token-loan-finalization" class="toc-h2 toc-link" data-title="post-loan_requests-token-loan-finalization">POST loan_requests/{token}/loan/finalization</a>
                  </li>
                  <li>
                    <a href="#get-loan_requests-token-documents-kind-format" class="toc-h2 toc-link" data-title="get-loan_requests-token-documents-kind-format">GET loan_requests/{token}/documents/{kind}.{format}</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#cb76858662" class="toc-h1 toc-link" data-title="">Коды ошибок</a>
          </li>
          <li>
            <a href="#what-39-s-new" class="toc-h1 toc-link" data-title="what-s-new">What's new</a>
          </li>
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='3394112aa9'>Введение</h1>
<p>API Loans реализовано на протоколе HTTPS на основе JSON запросов.</p>
<h1 id='93900fccba'>Авторизация</h1><h2 id='url'>Базовые URL адреса</h2><pre class="highlight javascript tab-javascript"><code><span class="nx">BASE_URL</span> <span class="o">=</span> <span class="s2">"https://r.revoplus.ru/"</span>
<span class="nx">BASE_URL</span> <span class="o">=</span> <span class="s2">"https://demo.revoplus.ru/"</span>
</code></pre>
<ol>
<li>Для взаимодействия с сервисами Рево используются 2 базовых адреса:

<ul>
<li>https://r.revoplus.ru/ - адрес <code>production</code> сервиса.</li>
<li>https://demo.revoup.ru/ - адрес <code>demo</code> сервиса.</li>
</ul></li>
<li><code>BASE_URL</code> - переменная обозначающая базовый адрес.</li>
</ol>

<aside class="notice">
Подключение должно производиться только по протоколу HTTPS  - при попытке подключения по HTTP будет возникать 404 ошибка.
</aside>
<h2 id='3b61794258'>Параметры авторизации</h2>
<p>Для авторизации обращения к методам API используется <code>authentication_token</code>, который генерируется путём создания сессии с помощью метода <a href="#post-sessions">sessions</a>.
<code>login</code> и <code>password</code> необходимые для этого метода создаются на стороне Рево.</p>
<h1 id='api'>Методы API</h1><h2 id='post-sessions'>POST sessions</h2><pre class="highlight ruby tab-ruby"><code><span class="no">POST</span> <span class="no">BASE_URL</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">loans</span><span class="o">/</span><span class="n">v1</span><span class="o">/</span><span class="n">sessions</span>
</code></pre>
<p>Метод для создания сессии пользователя (консультанта). Возвращает <code>authentication_token</code>, который необходим для авторизации обращения к другим методам API.</p>
<h3 id='parameters'>Parameters</h3>
<blockquote>
<p>Пример запроса в формате json</p>
</blockquote>
<pre class="highlight jsonnet tab-jsonnet"><code><span class="p">{</span>
  <span class="s">"user"</span><span class="p">:</span>
  <span class="p">{</span>
    <span class="s">"login"</span><span class="p">:</span> <span class="s">"qwerty"</span><span class="p">,</span>
    <span class="s">"password"</span><span class="p">:</span> <span class="s">"123456"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<table><thead>
<tr>
<th style="text-align: right"></th>
<th style="text-align: right"></th>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"></td>
<td style="text-align: right"><strong>user</strong><br> <font color="#939da3">object</font></td>
<td style="text-align: left"><td colspan="2"> Объект, содержащий информацию об авторизуемом пользователе (консультанте).</td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>login</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: left">Логин пользователя.</td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>password</strong><br> <font color="#939da3">sring</font></td>
<td style="text-align: right"></td>
<td style="text-align: left">Пароль пользователя.</td>
</tr>
</tbody></table>
<h3 id='response-parameters'>Response Parameters</h3>
<blockquote>
<p>Пример ответа при успешной аутентификации (code 200).</p>
</blockquote>
<pre class="highlight jsonnet tab-jsonnet"><code><span class="p">{</span>
  <span class="s">"user"</span><span class="p">:</span>
  <span class="p">{</span>
    <span class="s">"authentication_token"</span><span class="p">:</span> <span class="s">"api_key_123456"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Пример ответа при неуспешной аутентификации (code 422).</p>
</blockquote>
<pre class="highlight jsonnet tab-jsonnet"><code><span class="p">{</span>
  <span class="s">"errors"</span><span class="p">:</span>
  <span class="p">{</span>
    <span class="s">"login"</span><span class="p">:</span> <span class="p">[</span><span class="s">"неверный логин или пароль"</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<table><thead>
<tr>
<th style="text-align: right"></th>
<th style="text-align: right"></th>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"></td>
<td style="text-align: right"><strong>authentication_token</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: left"><td colspan="2"> Токен для последующего обращения к методам API.</td>
</tr>
<tr>
<td style="text-align: right"></td>
<td style="text-align: right"><strong>errors</strong><br> <font color="#939da3">object</font></td>
<td style="text-align: left"><td colspan="2"> Объект, содержащий информацию об ошибках.</td>
</tr>
</tbody></table>
<h2 id='delete-sessions'>DELETE sessions</h2><pre class="highlight ruby tab-ruby"><code>  <span class="no">DELETE</span> <span class="no">BASE_URL</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">loans</span><span class="o">/</span><span class="n">v1</span><span class="o">/</span><span class="n">sessions</span>
</code></pre>
<p>Метод для закрытия сессии пользователя (консультанта).</p>
<h3 id='response-parameters-2'>Response Parameters</h3>
<table><thead>
<tr>
<th style="text-align: right"></th>
<th style="text-align: right"></th>
<th style="text-align: left"></th>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"></td>
<td style="text-align: right"><strong>Code 200</strong></td>
<td style="text-align: left"><td colspan="2"> Операция успешна.</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td style="text-align: right"><strong>Code 401</strong></td>
<td style="text-align: left"><td colspan="2"> Сессия не обнаружена.</td>
<td style="text-align: left"></td>
</tr>
</tbody></table>

<!-- ##POST passwords

 ```ruby
 POST BASE_URL/passwords
 ```

 Метод для отправки кодя подтверждения пользователю (консультанту).

###Parameters
 > Пример запроса в формате json

 ```jsonnet
 {
   "user":
   {
     "login": "qwerty"
   }
 }
 ```

 | | | |
 -:|-:|:-|:-
  |**user**<br> <font color="#939da3">object</font> | <td colspan="2"> Объект, содержащий информацию об авторизуемом пользователе (консультанте).
   <td colspan="2" style="text-align:right">**login**<br> <font color="#939da3">string</font> | | Логин пользователя.

###Response Parameters

   > Пример ответа при неуспешной аутентификации (code 422).

   ```jsonnet
   {
     "errors":
     {
       "login": ["логин не найден"]
     }
   }
   ```

   | | | |
   -:|-:|:-|:-
    |**authentication_token**<br> <font color="#939da3">string</font> | <td colspan="2"> Токен для последующего обращения к методам API.
    |**errors**<br> <font color="#939da3">object</font> | <td colspan="2"> Объект, содержащий информацию об ошибках.
    <td colspan="2" style="text-align:right">**login**<br> <font color="#939da3">string</font> | | Логин пользователя ???

## PUT passwords

  ```ruby
  PUT BASE_URL/passwords
  ```
  Метод для проверки кода подтверждения, установки нового ПИН-а и получения `api_key`.

### Parameters

  > Пример запроса в формате json

  ```jsonnet
  {
    "user":
    {
      "login": "string",
      "confirmation_code": "string",
      "password": "string",
      "password_confirmation": "string"
    }
  }
  ```

  | | | |
  -:|-:|:-|:-
   |**user**<br> <font color="#939da3">object</font> | <td colspan="2"> Объект, содержащий информацию об авторизуемом пользователе (консультанте).
    <td colspan="2" style="text-align:right">**login**<br> <font color="#939da3">string</font> | | Логин пользователя.
    <td colspan="2" style="text-align:right">**confirmation_code**<br> <font color="#939da3">string</font> | | Код подтверждения.
    <td colspan="2" style="text-align:right">**password**<br> <font color="#939da3">sring</font> | | Пароль пользователя.
    <td colspan="2" style="text-align:right">**password_confirmation**<br> <font color="#939da3">string</font> | | Пароль подтверждения.

###Response Parameters

  > Пример ответа при успешной аутентификации (code 200).

  ```jsonnet
  {
    "user":
    {
      "authentication_token": "string"
    }
  }
  ```

  > Пример ответа при неуспешной аутентификации (code 422).

  ```jsonnet
  {
    "errors":
    {
      "confirmation_code": ["неверный"],
      "password": ["должен быть равен 4 символам"]
    }
  }
  ```

  | | | |
  -:|-:|:-|:-
  <td colspan="2" style="text-align:right">**confirmation_code**<br> <font color="#939da3">string</font> | | Код подтверждения.
  <td colspan="2" style="text-align:right">**password**<br> <font color="#939da3">sring</font> | | Пароль пользователя.
 -->
<h2 id='post-loan_requests'>POST loan_requests</h2><pre class="highlight ruby tab-ruby"><code><span class="no">POST</span> <span class="no">BASE_URL</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">loans</span><span class="o">/</span><span class="n">v1</span><span class="o">/</span><span class="n">loan_requests</span>
</code></pre>
<p>Метод для создания завки на займ. Возвращает <code>{token}</code> заявки.</p>
<h3 id='parameters-2'>Parameters</h3>
<blockquote>
<p>Пример запроса в формате json</p>
</blockquote>
<pre class="highlight jsonnet tab-jsonnet"><code><span class="p">{</span>
  <span class="s">"loan_request"</span><span class="p">:</span>
  <span class="p">{</span>
    <span class="s">"store_id"</span><span class="p">:</span> <span class="s">"1234"</span><span class="p">,</span>
    <span class="s">"order_id"</span><span class="p">:</span> <span class="s">"R2424"</span><span class="p">,</span>
    <span class="s">"employee_id"</span><span class="p">:</span> <span class="s">"R2D2"</span><span class="p">,</span>
    <span class="s">"preferred_term"</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
    <span class="s">"product_code"</span><span class="p">:</span> <span class="s">"R"</span><span class="p">,</span>
    <span class="s">"prepayment_amount"</span><span class="p">:</span> <span class="mf">1000.00</span>
  <span class="p">},</span>
  <span class="s">"cart_items"</span><span class="p">:</span>
<span class="p">[{</span>
    <span class="s">"sku"</span><span class="p">:</span> <span class="s">"23543"</span><span class="p">,</span>
    <span class="s">"name"</span><span class="p">:</span> <span class="s">"Чехол фирменный"</span><span class="p">,</span>
    <span class="s">"price"</span><span class="p">:</span> <span class="mi">3500</span><span class="p">,</span>
    <span class="s">"sale_price"</span><span class="p">:</span> <span class="mi">2999</span><span class="p">,</span>
    <span class="s">"quantity"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s">"unit"</span><span class="p">:</span> <span class="s">"шт."</span><span class="p">,</span>
    <span class="s">"brand"</span> <span class="p">:</span> <span class="s">"Samsung"</span><span class="p">,</span>
    <span class="s">"category"</span><span class="p">:</span> <span class="s">"Accessories"</span>
<span class="p">}],</span>
  <span class="s">"work_info"</span><span class="p">:</span>
  <span class="p">{</span>
    <span class="s">"monthly_income"</span><span class="p">:</span> <span class="mf">80000.00</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<table><thead>
<tr>
<th style="text-align: right"></th>
<th style="text-align: right"></th>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"></td>
<td style="text-align: right"><strong>loan_request</strong><br> <font color="#939da3">object</font></td>
<td style="text-align: left"><td colspan="2"> Объект, содержащий информацию о займе.</td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>store_id</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: left">Идентификатор торговой точки. Создается на стороне Рево.</td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>order_id</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: left">Уникальный (в пределах магазина) идентификатор заявки. Задаётся Партнёром.</td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>employee_id</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: left">Идентификатор консультанта (агента) по системе Партнёра.</td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>preferred_term</strong><br> <font color="#939da3">int, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: left">Предпочтительный для клиента срок оплаты частями.</td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>product_code</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: left">Код продукта, содержащий дополнительную информацию (<code>R</code> - рассрочка, <code>C</code> - кредит).</td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>prepayment_amount</strong><br> <font color="#939da3">float, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: left">Предоплата или первоначальный взнос клиента в рублях.</td>
</tr>
<tr>
<td style="text-align: right"></td>
<td style="text-align: right"><strong>cart_items</strong><br> <font color="#939da3">object, <em>optional</em></font></td>
<td style="text-align: left"><td colspan="2"> Объект, содержащий массив с информацией о заказе.</td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"> <strong>sku</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: left">Складская учётная единица (stock keeping unit).</td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"> <strong>name</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: left">Наименование товара.</td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"> <strong>price</strong><br> <font color="#939da3">float</font></td>
<td style="text-align: right"></td>
<td style="text-align: left">Цена товара.</td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"> <strong>sale_price</strong><br> <font color="#939da3">float, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: left">Цена товара со скидкой (если есть).</td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"> <strong>quantity</strong><br> <font color="#939da3">integer</font></td>
<td style="text-align: right"></td>
<td style="text-align: left">Количество товара.</td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"> <strong>unit</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: left">Единица измерения товара. Например, &quot;шт.&quot;, &quot;л.&quot;, &quot;компл.&quot; и т.д.</td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"> <strong>brand</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: left">Бренд товара.</td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"> <strong>category</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: left">Категория товара.</td>
</tr>
<tr>
<td style="text-align: right"></td>
<td style="text-align: right"><strong>work_info</strong><br> <font color="#939da3">object, <em>optional</em></font></td>
<td style="text-align: left"><td colspan="2" style="text-align:left"> Объект, содержащий информацию о работе клиента.</td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>monthly_income</strong><br> <font color="#939da3">float, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: left">Ежемесячный доход в рублях.</td>
</tr>
</tbody></table>
<h3 id='response-parameters-3'>Response Parameters</h3>
<blockquote>
<p>Пример ответа при успешной аутентификации (code 200).</p>
</blockquote>
<pre class="highlight jsonnet tab-jsonnet"><code><span class="p">{</span>
  <span class="s">"loan_request"</span><span class="p">:</span>
  <span class="p">{</span>
    <span class="s">"token"</span><span class="p">:</span> <span class="s">"b4e9d33f6021ad31a1b494ffb7be29069d580dfc"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Пример ответа при неуспешной аутентификации (code 422).</p>
</blockquote>
<pre class="highlight jsonnet tab-jsonnet"><code><span class="p">{</span>
  <span class="s">"errors"</span><span class="p">:</span>
  <span class="p">{</span>
    <span class="s">"store_id"</span><span class="p">:</span> <span class="p">[</span><span class="s">"не найден"</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<table><thead>
<tr>
<th style="text-align: right"></th>
<th style="text-align: right"></th>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"></td>
<td style="text-align: right"><strong>loan_request</strong><br> <font color="#939da3">object</font></td>
<td style="text-align: left"><td colspan="2"> Объект, содержащий информацию о займе.</td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>token</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: left">Токен заявки.</td>
</tr>
<tr>
<td style="text-align: right"></td>
<td style="text-align: right"><strong>errors</strong><br> <font color="#939da3">object</font></td>
<td style="text-align: left"><td colspan="2"> Объект, содержащий информацию об ошибках.</td>
</tr>
</tbody></table>
<h2 id='get-loan_requests-token'>GET loan_requests/{token}</h2><pre class="highlight ruby tab-ruby"><code><span class="no">GET</span> <span class="no">BASE_URL</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">loans</span><span class="o">/</span><span class="n">v1</span><span class="o">/</span><span class="n">loan_requests</span><span class="o">/</span><span class="p">{</span><span class="n">token</span><span class="p">}?</span><span class="n">amount</span><span class="o">=</span><span class="no">AMOUNT</span>
</code></pre>
<p>Метод для получения доступных графиков платежей по заявке. Для расчёта графика платежей для произвольной суммы используется переменная <code>AMOUNT</code> в заголовке. Если она не указана, значение суммы покупки берётся из заявки (проставляется методом <a href="#put-loan_requests-token">loan_request</a>). Если для указанной суммы нет ни одного подходящего тарифа, возвращается пустой массив.</p>

<p>Если в заявке не указан номер телефона, то расчёт графика платежей производится как для нового клиента.</p>
<h3 id='response-parameters-4'>Response Parameters</h3>
<blockquote>
<p>Пример ответа при успешной аутентификации (code 200).</p>
</blockquote>
<pre class="highlight jsonnet tab-jsonnet"><code><span class="p">{</span>
  <span class="s">"loan_request"</span><span class="p">:</span>
  <span class="p">[</span>
    <span class="p">{</span>
      <span class="s">"term"</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
      <span class="s">"term_id"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="s">"monthly_payment"</span><span class="p">:</span> <span class="mi">2945</span><span class="p">,</span>
      <span class="s">"total_of_payments"</span><span class="p">:</span> <span class="mi">8833</span><span class="p">,</span>
      <span class="s">"sum_with_discount"</span><span class="p">:</span> <span class="mi">6399</span><span class="p">,</span>
      <span class="s">"total_overpayment"</span><span class="p">:</span> <span class="mi">2434</span><span class="p">,</span>
      <span class="s">"sms_info"</span><span class="p">:</span> <span class="mf">59.0</span><span class="p">,</span>
      <span class="s">"min_amount"</span><span class="p">:</span> <span class="mi">2000</span><span class="p">,</span>
      <span class="s">"max_amount"</span><span class="p">:</span> <span class="mi">10000</span><span class="p">,</span>
      <span class="s">"product_code"</span><span class="p">:</span> <span class="s">"R"</span><span class="p">,</span>
      <span class="s">"schedule"</span><span class="p">:</span>
      <span class="p">[</span>
        <span class="p">{</span>
          <span class="s">"date"</span><span class="p">:</span> <span class="s">"10-09-2018"</span><span class="p">,</span>
          <span class="s">"amount"</span><span class="p">:</span> <span class="mi">2945</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="s">"date"</span><span class="p">:</span> <span class="s">"09-10-2018"</span><span class="p">,</span>
          <span class="s">"amount"</span><span class="p">:</span> <span class="mi">2945</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="s">"date"</span><span class="p">:</span> <span class="s">"09-11-2018"</span><span class="p">,</span>
          <span class="s">"amount"</span><span class="p">:</span> <span class="mi">2943</span>
        <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre>
<table><thead>
<tr>
<th style="text-align: right"></th>
<th style="text-align: right"></th>
<th style="text-align: right"></th>
<th style="text-align: left"></th>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"></td>
<td style="text-align: right"><strong>loan_request</strong><br> <font color="#939da3">object</font></td>
<td style="text-align: right"></td>
<td style="text-align: left"><td colspan="3"> Объект, содержащий информацию о расчёте доступных продуктов.</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>term</strong><br> <font color="#939da3">integer</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Срок займа в месяцах.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>term_id</strong><br> <font color="#939da3">integer</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Номер продукта.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>monthly_payment</strong><br> <font color="#939da3">float</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Величина ежемесячного платежа с учётом переплаты.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>total_of_payments</strong><br> <font color="#939da3">float</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Общая сумма к погашению займа (с учётом переплат).</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>sum_with_discount</strong><br> <font color="#939da3">float</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Стоимость товаров в рублях с копейками с учётом комиссии Рево (скидки, предоставляемой партнёром).</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>total_overpayment</strong><br> <font color="#939da3">float</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Общая сумма переплаты за весь период займа.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>sms_info</strong><br> <font color="#939da3">float</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Стоимость услуги смс-информирования.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>min_amount</strong><br> <font color="#939da3">float</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Минимальная сумма в рамках данного тарифа.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>max_amount</strong><br> <font color="#939da3">float</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Максимальная сумма в рамках данного тарифа.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>product_code</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Код продукта, содержащий дополнительную информацию (<code>R</code> - рассрочка, <code>C</code> - кредит).</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>schedule</strong><br> <font color="#939da3">object</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Объект, содержащий информацию о графике платежей.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="3" style="text-align:right"><strong>date</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: left">Дата платежа в формате <code>dd-mm-yyyy</code>.</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="3" style="text-align:right"><strong>amount</strong><br> <font color="#939da3">float</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: left">Величина платежа клиента в месяц в рублях с копейками. Последний платёж может отличаться от предыдущих.</td>
<td style="text-align: left"></td>
</tr>
</tbody></table>
<h3 id='response-parameters-5'>Response Parameters</h3>
<blockquote>
<p>Пример ответа при неуспешной аутентификации (code 422).</p>
</blockquote>
<pre class="highlight ruby tab-ruby"><code><span class="p">{</span>
  <span class="s2">"errors"</span><span class="p">:</span>
  <span class="p">{</span>
    <span class="s2">"amount"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"не может быть пустым"</span><span class="p">],</span>
    <span class="s2">"mobile_phone"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"не может быть пустым"</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<table><thead>
<tr>
<th style="text-align: right"></th>
<th style="text-align: right"></th>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"></td>
<td style="text-align: right"><strong>errors</strong><br> <font color="#939da3">object</font></td>
<td style="text-align: left"><td colspan="2"> Объект, содержащий информацию об ошибках.</td>
</tr>
</tbody></table>
<h2 id='put-loan_requests-token'>PUT loan_requests/{token}</h2><pre class="highlight jsonnet tab-jsonnet"><code><span class="nx">PUT</span> <span class="nx">BASE_URL</span><span class="err">/</span><span class="nx">api</span><span class="err">/</span><span class="nx">loans</span><span class="err">/</span><span class="nx">v1</span><span class="err">/</span><span class="nx">loan_requests</span><span class="err">/</span><span class="p">{</span><span class="nx">token</span><span class="p">}</span>
</code></pre>
<p>Метод для обновления информации по займу, например суммы или мобильного телефона.</p>
<h3 id='parameters-3'>Parameters</h3>
<blockquote>
<p>Пример запроса в формате json</p>
</blockquote>
<pre class="highlight jsonnet tab-jsonnet"><code><span class="p">{</span>
  <span class="s">"loan_request"</span><span class="p">:</span>
  <span class="p">{</span>
    <span class="s">"mobile_phone"</span><span class="p">:</span> <span class="s">"79998887776"</span><span class="p">,</span>
    <span class="s">"amount"</span><span class="p">:</span> <span class="mf">1399.00</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<table><thead>
<tr>
<th style="text-align: right"></th>
<th style="text-align: right"></th>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"></td>
<td style="text-align: right"><strong>loan_request</strong><br> <font color="#939da3">object</font></td>
<td style="text-align: left"><td colspan="2"> Объект, содержащий информацию о заявке.</td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>mobile_phone</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: left">Мобильный телефон клиента из 11 цифр (с кодом страны).</td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>amount</strong><br> <font color="#939da3">float</font></td>
<td style="text-align: right"></td>
<td style="text-align: left">Стоимость товаров в рублях с копейками с учётом комиссии Рево (скидки, предоставляемой партнёром).</td>
</tr>
</tbody></table>
<h3 id='response-parameters-6'>Response Parameters</h3>
<blockquote>
<p>Пример ответа при неуспешной аутентификации (code 422).</p>
</blockquote>
<pre class="highlight jsonnet tab-jsonnet"><code><span class="p">{</span>
  <span class="s">"errors"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"phone_number"</span><span class="p">:</span> <span class="p">[</span><span class="s">"имеет неверный формат"</span><span class="p">],</span>
    <span class="s">"amount"</span><span class="p">:</span> <span class="p">[</span><span class="s">"не может быть больше 100000 рублей"</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<table><thead>
<tr>
<th style="text-align: right"></th>
<th style="text-align: right"></th>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"></td>
<td style="text-align: right"><strong>errors</strong><br> <font color="#939da3">object</font></td>
<td style="text-align: left"><td colspan="2"> Объект, содержащий информацию об ошибках.</td>
</tr>
</tbody></table>
<h2 id='get-loan_requests-token-client'>GET loan_requests/{token}/client</h2><pre class="highlight ruby tab-ruby"><code><span class="no">GET</span> <span class="no">BASE_URL</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">loans</span><span class="o">/</span><span class="n">v1</span><span class="o">/</span><span class="n">loan_requests</span><span class="o">/</span><span class="p">{</span><span class="n">token</span><span class="p">}</span><span class="o">/</span><span class="n">client</span>
</code></pre>
<p>Метод для получения информации о клиенте. С помощью данного метода можно отличать повторных клиентов от новых: если в ответе с кодом 200 пришел пустой json <code>{}</code>, то клиент является новым; во всех остальных случаях - повторным.</p>
<h3 id='response-parameters-7'>Response Parameters</h3>
<blockquote>
<p>Пример ответа при успешной аутентификации (code 200).</p>
</blockquote>
<pre class="highlight jsonnet tab-jsonnet"><code><span class="p">{</span>
  <span class="s">"client"</span><span class="p">:</span>
  <span class="p">{</span>
    <span class="s">"mobile_phone"</span><span class="p">:</span> <span class="s">"79998887776"</span><span class="p">,</span>
    <span class="s">"first_name"</span><span class="p">:</span> <span class="s">"Иван"</span><span class="p">,</span>
    <span class="s">"middle_name"</span><span class="p">:</span> <span class="s">"Иванович"</span><span class="p">,</span>
    <span class="s">"last_name"</span><span class="p">:</span> <span class="s">"Иванов"</span><span class="p">,</span>
    <span class="s">"birth_date"</span><span class="p">:</span> <span class="s">"01-01-1990"</span><span class="p">,</span>
    <span class="s">"email"</span><span class="p">:</span> <span class="s">"user@example.com"</span><span class="p">,</span>
    <span class="s">"area"</span><span class="p">:</span> <span class="s">"Москва"</span><span class="p">,</span>
    <span class="s">"settlement"</span><span class="p">:</span> <span class="s">"Москва"</span><span class="p">,</span>
    <span class="s">"street"</span><span class="p">:</span> <span class="s">"Новая"</span><span class="p">,</span>
    <span class="s">"house"</span><span class="p">:</span> <span class="s">"123"</span><span class="p">,</span>
    <span class="s">"building"</span><span class="p">:</span> <span class="s">"123"</span><span class="p">,</span>
    <span class="s">"apartment"</span><span class="p">:</span> <span class="s">"123"</span><span class="p">,</span>
    <span class="s">"postal_code"</span><span class="p">:</span> <span class="s">"12345"</span><span class="p">,</span>
    <span class="s">"credit_limit"</span><span class="p">:</span> <span class="mf">33000.00</span><span class="p">,</span>
    <span class="s">"missing_documents"</span><span class="p">:</span> <span class="p">[</span><span class="s">"name"</span><span class="p">],</span>
    <span class="s">"id_documents"</span><span class="p">:</span>
    <span class="p">{</span>
      <span class="s">"russian_passport"</span><span class="p">:</span>
      <span class="p">{</span>
        <span class="s">"series"</span><span class="p">:</span> <span class="s">"7711"</span><span class="p">,</span>
        <span class="s">"number"</span><span class="p">:</span> <span class="s">"123456"</span><span class="p">,</span>
        <span class="s">"expiry_date"</span><span class="p">:</span> <span class="s">"02-03-2025"</span><span class="p">,</span>
        <span class="s">"issue_date"</span><span class="p">:</span> <span class="s">"02-03-2025"</span><span class="p">,</span>
        <span class="s">"issuing_authority"</span><span class="p">:</span> <span class="s">"МВД России по г.Москва"</span><span class="p">,</span>
        <span class="s">"issuing_authority_code"</span><span class="p">:</span> <span class="s">"770001"</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<table><thead>
<tr>
<th style="text-align: right"></th>
<th style="text-align: right"></th>
<th style="text-align: right"></th>
<th style="text-align: left"></th>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"></td>
<td style="text-align: right"><strong>client</strong><br> <font color="#939da3">object</font></td>
<td style="text-align: right"></td>
<td style="text-align: left"><td colspan="3"> Объект, содержащий информацию о клиенте.</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>id</strong><br> <font color="#939da3">integer</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Уникальный идентификатор клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>mobile_phone</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Мобильный телефон клиента из 11 цифр (с кодом страны).</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>first_name</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Имя клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>middle_name</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Отчество клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>last_name</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Фамилия клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>birth_date</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Дата рождения клиента в формате <code>dd-mm-yyyy</code>.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>email</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Email клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>area</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Область по месту регистрации клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>settlement</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Город по месту регистрации клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>street</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Улица по месту регистрации клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>house</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Номер дома по месту регистрации клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>building</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Строение по месту регистрации клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>apartment</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Номер квартиры по месту регистрации клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>postal_code</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Почтовый индекс по месту регистрации клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>credit_limit</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Лимит клиента в руб с копейками.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>missing_documents</strong><br> <font color="#939da3">array, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Список документов, которых не хватает у клиента. Возможные значения такие же как у метода <a href="#patch-loan_requests-token-client">PATCH loan_requests/{token}/client</a>: <code>client_with_passport</code>, <code>living_addr</code>, <code>name</code>.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>id_documents</strong><br> <font color="#939da3">object</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Объект, содержащий информацию о документах клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>russian_passport</strong><br> <font color="#939da3">object</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Объект, содержащий информацию о паспорте РФ.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="3" style="text-align:right"><strong>series</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: left">Серия паспорта клиента.</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="3" style="text-align:right"><strong>number</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: left">Номер паспорта клиента.</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="3" style="text-align:right"><strong>expiry_date</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: left">Дата окончания действия паспорта в формате <code>dd-mm-yyyy</code>.</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="3" style="text-align:right"><strong>issue_date</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: left">Дата выдачи паспорта в формате <code>dd-mm-yyyy</code>.</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="3" style="text-align:right"><strong>issuing_authority</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: left">Орган, выдавший паспорт.</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="3" style="text-align:right"><strong>issuing_authority_code</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: left">Код подразделения, выдавшего паспорт.</td>
<td style="text-align: left"></td>
</tr>
</tbody></table>

<blockquote>
<p>Пример ответа при неуспешной аутентификации (code 422).</p>
</blockquote>
<pre class="highlight jsonnet tab-jsonnet"><code><span class="p">{</span>
  <span class="s">"errors"</span><span class="p">:</span>
  <span class="p">{</span>
    <span class="s">"amount"</span><span class="p">:</span> <span class="p">[</span><span class="s">"не может быть пустым"</span><span class="p">],</span>
    <span class="s">"mobile_phone"</span><span class="p">:</span> <span class="p">[</span><span class="s">"не может быть пустым"</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<table><thead>
<tr>
<th style="text-align: right"></th>
<th style="text-align: right"></th>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"></td>
<td style="text-align: right"><strong>errors</strong><br> <font color="#939da3">object</font></td>
<td style="text-align: left"><td colspan="2"> Объект, содержащий информацию об ошибках.</td>
</tr>
</tbody></table>
<h2 id='post-loan_requests-token-client'>POST loan_requests/{token}/client</h2><pre class="highlight ruby tab-ruby"><code><span class="no">POST</span> <span class="no">BASE_URL</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">loans</span><span class="o">/</span><span class="n">v1</span><span class="o">/</span><span class="n">loan_requests</span><span class="o">/</span><span class="p">{</span><span class="n">token</span><span class="p">}</span><span class="o">/</span><span class="n">client</span>
</code></pre>
<p>Метод для создания клиента с персональными данными и получения решения по лимиту.</p>

<aside class="notice">
Для получения гарантированного одобрения необходимо в качестве фамилии клиента использовать "Одобрено".<br>
Для получения гарантированного отказа необходимо в качестве фамилии клиента использовать "Отказано".
</aside>
<h3 id='parameters-4'>Parameters</h3>
<blockquote>
<p>Пример запроса в формате json</p>
</blockquote>
<pre class="highlight jsonnet tab-jsonnet"><code><span class="p">{</span>
  <span class="s">"client"</span><span class="p">:</span>
  <span class="p">{</span>
    <span class="s">"mobile_phone"</span><span class="p">:</span> <span class="s">"79998887776"</span><span class="p">,</span>
    <span class="s">"first_name"</span><span class="p">:</span> <span class="s">"Иван"</span><span class="p">,</span>
    <span class="s">"middle_name"</span><span class="p">:</span> <span class="s">"Иванович"</span><span class="p">,</span>
    <span class="s">"last_name"</span><span class="p">:</span> <span class="s">"Иванов"</span><span class="p">,</span>
    <span class="s">"birth_date"</span><span class="p">:</span> <span class="s">"01-01-1990"</span><span class="p">,</span>
    <span class="s">"email"</span><span class="p">:</span> <span class="s">"user@example.com"</span><span class="p">,</span>
    <span class="s">"id_documents"</span><span class="p">:</span>
    <span class="p">{</span>
      <span class="s">"russian_passport"</span><span class="p">:</span>
      <span class="p">{</span>
        <span class="s">"series"</span><span class="p">:</span> <span class="s">"7711"</span><span class="p">,</span>
        <span class="s">"number"</span><span class="p">:</span> <span class="s">"123456"</span><span class="p">,</span>
        <span class="s">"expiry_date"</span><span class="p">:</span> <span class="s">"02-03-2025"</span><span class="p">,</span>
        <span class="s">"issue_date"</span><span class="p">:</span> <span class="s">"02-03-2025"</span><span class="p">,</span>
        <span class="s">"issuing_authority"</span><span class="p">:</span> <span class="s">"МВД России по г.Москва"</span><span class="p">,</span>
        <span class="s">"issuing_authority_code"</span><span class="p">:</span> <span class="s">"770001"</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s">"provider_data"</span><span class="p">:</span>
  <span class="p">{</span>    
    <span class="s">"juicy_scoring"</span><span class="p">:</span>
    <span class="p">{</span>
      <span class="s">"cookie"</span><span class="p">:</span> <span class="s">"w.0.5145137109623541.1478243476134"</span><span class="p">,</span>
      <span class="s">"ip"</span><span class="p">:</span> <span class="s">"192.168.0.1"</span><span class="p">,</span>
      <span class="s">"user_agent"</span><span class="p">:</span> <span class="s">"chrome58"</span><span class="p">,</span>
      <span class="s">"referrer"</span><span class="p">:</span> <span class="s">"www.mvideo.ru/..."</span>
     <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<table><thead>
<tr>
<th style="text-align: right"></th>
<th style="text-align: right"></th>
<th style="text-align: right"></th>
<th style="text-align: left"></th>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"></td>
<td style="text-align: right"><strong>client</strong><br> <font color="#939da3">object</font></td>
<td style="text-align: right"></td>
<td style="text-align: left"><td colspan="3"> Объект, содержащий информацию о клиенте.</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>mobile_phone</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Мобильный телефон клиента из 11 цифр (с кодом страны).</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>first_name</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Имя клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>middle_name</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Отчество клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>last_name</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Фамилия клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>birth_date</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Дата рождения клиента в формате <code>dd-mm-yyyy</code>.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>email</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Email клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>area</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Область по месту регистрации клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>settlement</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Город по месту регистрации клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>street</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Улица по месту регистрации клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>house</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Номер дома по месту регистрации клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>building</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Строение по месту регистрации клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>apartment</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Номер квартиры по месту регистрации клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>postal_code</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Почтовый индекс по месту регистрации клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>id_documents</strong><br> <font color="#939da3">object</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Объект, содержащий информацию о документах клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>russian_passport</strong><br> <font color="#939da3">object</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Объект, содержащий информацию о паспорте РФ.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="3" style="text-align:right"><strong>series</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: left">Серия паспорта клиента.</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="3" style="text-align:right"><strong>number</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: left">Номер паспорта клиента.</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="3" style="text-align:right"><strong>expiry_date</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: left">Дата окончания действия паспорта в формате <code>dd-mm-yyyy</code>.</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="3" style="text-align:right"><strong>issue_date</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: left">Дата выдачи паспорта в формате <code>dd-mm-yyyy</code>.</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="3" style="text-align:right"><strong>issuing_authority</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: left">Орган, выдавший паспорт.</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="3" style="text-align:right"><strong>issuing_authority_code</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: left">Код подразделения, выдавшего паспорт.</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td style="text-align: right"><strong>provider_data</strong><br> <font color="#939da3">object</font></td>
<td style="text-align: right"></td>
<td style="text-align: left"><td colspan="3"> Объект, содержащий информацию о поставщике данных.</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>juicy_scoring</strong><br> <font color="#939da3">object, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Объект, содержащий информацию о параметрах JuicyScore.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="3" style="text-align:right"><strong>cookie</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: left">Идентификатор куки JuicyScore (поля JuicyLabsSession или jslbrc).</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="3" style="text-align:right"><strong>ip</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: left">IP адрес клиента.</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="3" style="text-align:right"><strong>user_agent</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: left">Браузер клиента.</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="3" style="text-align:right"><strong>referrer</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: left">Страница, с которой пришёл клиент.</td>
<td style="text-align: left"></td>
</tr>
</tbody></table>
<h3 id='response-parameters-8'>Response Parameters</h3>
<blockquote>
<p>Пример ответа при успешной аутентификации (code 200).</p>
</blockquote>
<pre class="highlight jsonnet tab-jsonnet"><code> <span class="p">{</span>
   <span class="s">"client"</span><span class="p">:</span>
   <span class="p">{</span>
     <span class="s">"mobile_phone"</span><span class="p">:</span> <span class="s">"79998887776"</span><span class="p">,</span>
     <span class="s">"first_name"</span><span class="p">:</span> <span class="s">"Иван"</span><span class="p">,</span>
     <span class="s">"middle_name"</span><span class="p">:</span> <span class="s">"Иванович"</span><span class="p">,</span>
     <span class="s">"last_name"</span><span class="p">:</span> <span class="s">"Иванов"</span><span class="p">,</span>
     <span class="s">"birth_date"</span><span class="p">:</span> <span class="s">"01-01-1990"</span><span class="p">,</span>
     <span class="s">"email"</span><span class="p">:</span> <span class="s">"user@example.com"</span><span class="p">,</span>
     <span class="s">"pesel"</span><span class="p">:</span> <span class="s">"81010200131"</span><span class="p">,</span>
     <span class="s">"area"</span><span class="p">:</span> <span class="s">"Москва"</span><span class="p">,</span>
     <span class="s">"settlement"</span><span class="p">:</span> <span class="s">"Москва"</span><span class="p">,</span>
     <span class="s">"street"</span><span class="p">:</span> <span class="s">"Новая"</span><span class="p">,</span>
     <span class="s">"house"</span><span class="p">:</span> <span class="s">"123"</span><span class="p">,</span>
     <span class="s">"building"</span><span class="p">:</span> <span class="s">"123"</span><span class="p">,</span>
     <span class="s">"apartment"</span><span class="p">:</span> <span class="s">"123"</span><span class="p">,</span>
     <span class="s">"postal_code"</span><span class="p">:</span> <span class="s">"12345"</span><span class="p">,</span>
     <span class="s">"credit_decision"</span><span class="p">:</span> <span class="s">"approved"</span><span class="p">,</span>
     <span class="s">"credit_limit"</span><span class="p">:</span> <span class="s">"33000.00"</span><span class="p">,</span>
     <span class="s">"id_documents"</span><span class="p">:</span>
     <span class="p">{</span>
       <span class="s">"russian_passport"</span><span class="p">:</span>
       <span class="p">{</span>
         <span class="s">"series"</span><span class="p">:</span> <span class="s">"7711"</span><span class="p">,</span>
         <span class="s">"number"</span><span class="p">:</span> <span class="s">"123456"</span><span class="p">,</span>
         <span class="s">"expiry_date"</span><span class="p">:</span> <span class="s">"02-03-2025"</span><span class="p">,</span>
         <span class="s">"issue_date"</span><span class="p">:</span> <span class="s">"02-03-2025"</span><span class="p">,</span>
         <span class="s">"issuing_authority"</span><span class="p">:</span> <span class="s">"МВД России по г.Москва"</span><span class="p">,</span>
         <span class="s">"issuing_authority_code"</span><span class="p">:</span> <span class="s">"770001"</span>
       <span class="p">}</span>
     <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
</code></pre>
<blockquote>
<p>Пример ответа при неуспешной аутентификации (code 422).</p>
</blockquote>
<pre class="highlight jsonnet tab-jsonnet"><code> <span class="p">{</span>
   <span class="s">"errors"</span><span class="p">:</span>
   <span class="p">{</span>
     <span class="s">"amount"</span><span class="p">:</span> <span class="p">[</span><span class="s">"не может быть пустым"</span><span class="p">],</span>
     <span class="s">"mobile_phone"</span><span class="p">:</span> <span class="p">[</span><span class="s">"не может быть пустым"</span><span class="p">]</span>
   <span class="p">}</span>
 <span class="p">}</span>
</code></pre>
<table><thead>
<tr>
<th style="text-align: right"></th>
<th style="text-align: right"></th>
<th style="text-align: right"></th>
<th style="text-align: left"></th>
<th style="text-align: left"></th>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"></td>
<td style="text-align: right"><strong>client</strong><br> <font color="#939da3">object</font></td>
<td style="text-align: right"></td>
<td style="text-align: left"><td colspan="3"> Объект, содержащий информацию о клиенте.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>id</strong><br> <font color="#939da3">integer</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Уникальный идентификатор клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>mobile_phone</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Мобильный телефон клиента из 11 цифр (с кодом страны).</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>first_name</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Имя клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>middle_name</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Отчество клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>last_name</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Фамилия клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>birth_date</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Дата рождения клиента в формате <code>dd-mm-yyyy</code>.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>email</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Email клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>area</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Область по месту регистрации клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>settlement</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Город по месту регистрации клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>street</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Улица по месту регистрации клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>house</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Номер дома по месту регистрации клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>building</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Строение по месту регистрации клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>apartment</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Номер квартиры по месту регистрации клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>postal_code</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Почтовый индекс по месту регистрации клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>credit_decision</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left">  Решение по лимиту. Возможные значения: <code>approved</code> - лимит одобрен; <code>declined</code> - лимит не одобрен.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>credit_limit</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Лимит клиента в руб с копейками.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>id_documents</strong><br> <font color="#939da3">object</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Объект, содержащий информацию о документах клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>russian_passport</strong><br> <font color="#939da3">object</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"><td colspan="2" style="text-align:left"> Объект, содержащий информацию о паспорте РФ.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="3" style="text-align:right"><strong>series</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: left">Серия паспорта клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="3" style="text-align:right"><strong>number</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: left">Номер паспорта клиента.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="3" style="text-align:right"><strong>expiry_date</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: left">Дата окончания действия паспорта в формате <code>dd-mm-yyyy</code>.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="3" style="text-align:right"><strong>issue_date</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: left">Дата выдачи паспорта в формате <code>dd-mm-yyyy</code>.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="3" style="text-align:right"><strong>issuing_authority</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: left">Орган, выдавший паспорт.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"><td colspan="3" style="text-align:right"><strong>issuing_authority_code</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
<td style="text-align: left">Код подразделения, выдавшего паспорт.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: right"></td>
<td style="text-align: right"><strong>errors</strong><br> <font color="#939da3">object</font></td>
<td style="text-align: right"></td>
<td style="text-align: left"><td colspan="3"> Объект, содержащий информацию об ошибках.</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
</tbody></table>
<h2 id='patch-loan_requests-token-client'>PATCH loan_requests/{token}/client</h2><pre class="highlight ruby tab-ruby"><code><span class="no">PATCH</span>  <span class="no">BASE_URL</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">loans</span><span class="o">/</span><span class="n">v1</span><span class="o">/</span><span class="n">loan_requests</span><span class="o">/</span><span class="p">{</span><span class="n">token</span><span class="p">}</span><span class="o">/</span><span class="n">client</span>
</code></pre>
<p>Метод для загрузки фотографий клиента. Используется multipart/form-data. Например, client[documents][name].</p>
<h3 id='parameters-5'>Parameters</h3>
<blockquote>
<p>Пример запроса</p>
</blockquote>
<pre class="highlight jsonnet tab-jsonnet"><code><span class="p">{</span>
  <span class="s">"client"</span><span class="p">:</span>
  <span class="p">{</span>
    <span class="s">"documents"</span><span class="p">:</span>
    <span class="p">[</span>
      <span class="s">"kind"</span><span class="p">:</span> <span class="nx">File</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s">"name.jpg"</span><span class="p">)</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<table><thead>
<tr>
<th style="text-align: right"></th>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>[name]</strong><br> <font color="#939da3">file</font></td>
<td style="text-align: left">Фото первого разворота паспорта.</td>
</tr>
<tr>
<td style="text-align: right"><strong>[living_addr]</strong><br> <font color="#939da3">file</font></td>
<td style="text-align: left">Фото паспорта со страницей регистрации.</td>
</tr>
<tr>
<td style="text-align: right"><strong>[client_with_passport]</strong><br> <font color="#939da3">file</font></td>
<td style="text-align: left">Фото клиента с паспортом.</td>
</tr>
</tbody></table>
<h3 id='response-parameters-9'>Response Parameters</h3>
<blockquote>
<p>Пример ответа при неуспешной аутентификации (code 422).</p>
</blockquote>
<pre class="highlight jsonnet tab-jsonnet"><code><span class="p">{</span>
  <span class="s">"errors"</span><span class="p">:</span>
   <span class="p">{</span>
    <span class="s">"kind"</span><span class="p">:</span> <span class="p">[</span><span class="s">"неверное значение типа документа"</span><span class="p">],</span>
    <span class="s">"client"</span><span class="p">:</span> <span class="p">[</span><span class="s">"не удалось найти клиента"</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<table><thead>
<tr>
<th style="text-align: right"></th>
<th style="text-align: right"></th>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"></td>
<td style="text-align: right"><strong>errors</strong><br> <font color="#939da3">object</font></td>
<td style="text-align: left"><td colspan="2"> Объект, содержащий информацию об ошибках.</td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>kind</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: left">Тип загружаемого документа.</td>
</tr>
</tbody></table>
<h2 id='post-loan_requests-token-confirmation'>POST loan_requests/{token}/confirmation</h2><pre class="highlight ruby tab-ruby"><code><span class="no">POST</span>  <span class="no">BASE_URL</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">loans</span><span class="o">/</span><span class="n">v1</span><span class="o">/</span><span class="n">loan_requests</span><span class="o">/</span><span class="p">{</span><span class="n">token</span><span class="p">}</span><span class="o">/</span><span class="n">confirmation</span>
</code></pre>
<p>Метод для подтверждения согласия с передачей персональных данных и верификации номера телефона клиента с помощью смс кода. Используется для существующих клиентов. Для новых клиентов код передаётся при создании клиента с помощью метода <a href="#post-loan_requests-token-client">loan_requests/{token}/client</a>.</p>
<h3 id='parameters-6'>Parameters</h3>
<blockquote>
<p>Пример запроса в формате json</p>
</blockquote>
<pre class="highlight jsonnet tab-jsonnet"><code><span class="p">{</span>
  <span class="s">"code"</span><span class="p">:</span> <span class="s">"1234"</span>
<span class="p">}</span>
</code></pre>
<table><thead>
<tr>
<th style="text-align: right"></th>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>code</strong><br> <font color="#939da3">int</font></td>
<td style="text-align: left">Четырёхзначный код подтверждения.</td>
</tr>
</tbody></table>
<h3 id='response-parameters-10'>Response Parameters</h3>
<blockquote>
<p>Пример ответа при успешной аутентификации (code 200).</p>
</blockquote>
<pre class="highlight jsonnet tab-jsonnet"><code><span class="p">{</span>
  <span class="s">"client"</span><span class="p">:</span>
   <span class="p">{</span>
    <span class="s">"first_name"</span><span class="p">:</span> <span class="s">"Иван"</span><span class="p">,</span>
    <span class="s">"middle_name"</span><span class="p">:</span> <span class="s">"Иванович"</span><span class="p">,</span>
    <span class="s">"last_name"</span><span class="p">:</span> <span class="s">"Иванов"</span><span class="p">,</span>
    <span class="s">"decision"</span><span class="p">:</span> <span class="s">"approved"</span><span class="p">,</span>
    <span class="s">"credit_limit"</span><span class="p">:</span> <span class="mf">1255.2</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Пример ответа при неуспешной аутентификации (code 422).</p>
</blockquote>
<pre class="highlight jsonnet tab-jsonnet"><code><span class="p">{</span>
  <span class="s">"errors"</span><span class="p">:</span>
  <span class="p">{</span>
    <span class="s">"code"</span><span class="p">:</span> <span class="p">[</span><span class="s">"имеет неверное значение"</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<table><thead>
<tr>
<th style="text-align: right"></th>
<th style="text-align: right"></th>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"></td>
<td style="text-align: right"><strong>client</strong><br> <font color="#939da3">object</font></td>
<td style="text-align: left"><td colspan="2"> Объект, содержащий информацию о клиенте.</td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>first_name</strong><br> <font color="#939da3">integer</font></td>
<td style="text-align: right"></td>
<td style="text-align: left">Имя клиента.</td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>middle_name</strong><br> <font color="#939da3">integer</font></td>
<td style="text-align: right"></td>
<td style="text-align: left">Отчество клиента.</td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>last_name</strong><br> <font color="#939da3">integer</font></td>
<td style="text-align: right"></td>
<td style="text-align: left">Фамилия клиента.</td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>decision</strong><br> <font color="#939da3">integer</font></td>
<td style="text-align: right"></td>
<td style="text-align: left">Решение по лимиту. Возможные значения: <code>approved</code> - лимит одобрен; <code>declined</code> - лимит не одобрен.</td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>credit_limit</strong><br> <font color="#939da3">integer</font></td>
<td style="text-align: right"></td>
<td style="text-align: left">Величина доступного клиенту лимита в рублях с копейками.</td>
</tr>
<tr>
<td style="text-align: right"></td>
<td style="text-align: right"><strong>errors</strong><br> <font color="#939da3">object</font></td>
<td style="text-align: left"><td colspan="2"> Объект, содержащий информацию об ошибках.</td>
</tr>
</tbody></table>
<h2 id='post-loan_requests-token-client-confirmation'>POST loan_requests/{token}/client/confirmation</h2><pre class="highlight ruby tab-ruby"><code><span class="no">POST</span>  <span class="no">BASE_URL</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">loans</span><span class="o">/</span><span class="n">v1</span><span class="o">/</span><span class="n">loan_requests</span><span class="o">/</span><span class="p">{</span><span class="n">token</span><span class="p">}</span><span class="o">/</span><span class="n">confirmation</span>
</code></pre>
<p>Метод для отправки кода подтверждения клиенту по смс. Также используется для повторной отправки смс кода. Смс код используется как для верификации номера телефона (и согласия клиента с передачей персональных данных), так и для подтверждения займа при финализации.</p>
<h3 id='response-parameters-11'>Response Parameters</h3>
<blockquote>
<p>Пример ответа при неуспешной аутентификации (code 422).</p>
</blockquote>
<pre class="highlight jsonnet tab-jsonnet"><code><span class="p">{</span>
  <span class="s">"errors"</span><span class="p">:</span>
  <span class="p">{</span>
    <span class="s">"mobile_phone"</span><span class="p">:</span> <span class="p">[</span><span class="s">"не может быть пустым"</span><span class="p">],</span>
    <span class="s">"amount"</span><span class="p">:</span> <span class="p">[</span><span class="s">"не может быть пустым"</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<table><thead>
<tr>
<th style="text-align: right"></th>
<th style="text-align: right"></th>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"></td>
<td style="text-align: right"><strong>errors</strong><br> <font color="#939da3">object</font></td>
<td style="text-align: left"><td colspan="2"> Объект, содержащий информацию об ошибках.</td>
</tr>
</tbody></table>
<h2 id='post-loan_requests-token-loan'>POST loan_requests/{token}/loan</h2><pre class="highlight ruby tab-ruby"><code><span class="no">POST</span>  <span class="no">BASE_URL</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">loans</span><span class="o">/</span><span class="n">v1</span><span class="o">/</span><span class="n">loan_requests</span><span class="o">/</span><span class="p">{</span><span class="n">token</span><span class="p">}</span><span class="o">/</span><span class="n">loan</span>
</code></pre>
<p>Метод для создания займа.</p>
<h3 id='parameters-7'>Parameters</h3>
<blockquote>
<p>Пример запроса в формате json</p>
</blockquote>
<pre class="highlight jsonnet tab-jsonnet"><code><span class="p">{</span>
  <span class="s">"term_id"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
  <span class="s">"term"</span><span class="p">:</span> <span class="mi">3</span>
<span class="p">}</span>
</code></pre>
<table><thead>
<tr>
<th style="text-align: right"></th>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>term_id</strong><br> <font color="#939da3">integer</font></td>
<td style="text-align: left">Номер продукта.</td>
</tr>
<tr>
<td style="text-align: right"><strong>term</strong><br> <font color="#939da3">integer</font></td>
<td style="text-align: left">Срок займа в месяцах.</td>
</tr>
</tbody></table>
<h3 id='response-parameters-12'>Response Parameters</h3>
<blockquote>
<p>Пример ответа при неуспешной аутентификации (code 422).</p>
</blockquote>
<pre class="highlight jsonnet tab-jsonnet"><code><span class="p">{</span>
  <span class="s">"errors"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">"amount"</span><span class="p">:</span> <span class="p">[</span><span class="s">"может иметь значение меньшее или равное 3000"</span><span class="p">],</span>
    <span class="s">"base"</span><span class="p">:</span> <span class="p">[</span><span class="s">"К сожалению, ваша заявка отклонена"</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<table><thead>
<tr>
<th style="text-align: right"></th>
<th style="text-align: right"></th>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"></td>
<td style="text-align: right"><strong>errors</strong><br> <font color="#939da3">object</font></td>
<td style="text-align: left"><td colspan="2"> Объект, содержащий информацию об ошибках.</td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>base</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: left">Информация по заявке.</td>
</tr>
</tbody></table>
<h2 id='post-loan_requests-token-loan-finalization'>POST loan_requests/{token}/loan/finalization</h2><pre class="highlight ruby tab-ruby"><code><span class="no">POST</span> <span class="no">BASE_URL</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">loans</span><span class="o">/</span><span class="n">v1</span><span class="o">/</span><span class="n">loan_requests</span><span class="o">/</span><span class="p">{</span><span class="n">token</span><span class="p">}</span><span class="o">/</span><span class="n">loan</span><span class="o">/</span><span class="n">finalization</span>
</code></pre>
<p>Метод для финализации заявки. В качестве смс кода может использоваться тот же код, что и для верификации номера телефона (и согласия клиента с передачей персональных данных).</p>
<h3 id='parameters-8'>Parameters</h3>
<blockquote>
<p>Пример запроса в формате json</p>
</blockquote>
<pre class="highlight jsonnet tab-jsonnet"><code><span class="p">{</span>
  <span class="s">"loan"</span><span class="p">:</span>
  <span class="p">{</span>
    <span class="s">"agree_sms_info"</span><span class="p">:</span> <span class="s">"1"</span><span class="p">,</span>
    <span class="s">"agree_processing"</span><span class="p">:</span> <span class="s">"1"</span><span class="p">,</span>
    <span class="s">"confirmation_code"</span><span class="p">:</span> <span class="s">"8888"</span><span class="p">,</span>
    <span class="s">"employee_id"</span><span class="p">:</span> <span class="s">"R2D2"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<table><thead>
<tr>
<th style="text-align: right"></th>
<th style="text-align: right"></th>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"></td>
<td style="text-align: right"><strong>loan</strong><br> <font color="#939da3">object</font></td>
<td style="text-align: left"><td colspan="2"> Объект, содержащий информацию о займе.</td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>agree_sms_info</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: left">Согласие клиента с подключением платного смс-информирования.</td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>agree_processing</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: left">Согласие клиента с оформлением договора.</td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>confirmation_code</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: left">Четырёхзначный код подтверждения.</td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>employee_id</strong><br> <font color="#939da3">string, <em>optional</em></font></td>
<td style="text-align: right"></td>
<td style="text-align: left">Идентификатор консультанта (агента) по системе Партнёра.</td>
</tr>
</tbody></table>
<h3 id='response-parameters-13'>Response Parameters</h3>
<blockquote>
<p>Пример ответа при неуспешном запросе (code 422).</p>
</blockquote>
<pre class="highlight jsonnet tab-jsonnet"><code><span class="p">{</span>
  <span class="s">"errors"</span><span class="p">:</span>
  <span class="p">{</span>
    <span class="s">"agree_processing"</span><span class="p">:</span> <span class="p">[</span><span class="s">"нужно подтвердить"</span><span class="p">],</span>
    <span class="s">"confirmation_code"</span><span class="p">:</span> <span class="p">[</span><span class="s">"имеет неверное значение"</span><span class="p">],</span>
    <span class="s">"loan_application"</span><span class="p">:</span> <span class="p">[</span><span class="s">"для финализации займ должен быть подтвержден"</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<table><thead>
<tr>
<th style="text-align: right"></th>
<th style="text-align: right"></th>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"></td>
<td style="text-align: right"><strong>errors</strong><br> <font color="#939da3">object</font></td>
<td style="text-align: left"><td colspan="2"> Объект, содержащий информацию об ошибках.</td>
</tr>
<tr>
<td style="text-align: right"><td colspan="2" style="text-align:right"><strong>loan_application</strong><br> <font color="#939da3">string</font></td>
<td style="text-align: right"></td>
<td style="text-align: left"></td>
</tr>
</tbody></table>
<h2 id='get-loan_requests-token-documents-kind-format'>GET loan_requests/{token}/documents/{kind}.{format}</h2><pre class="highlight ruby tab-ruby"><code><span class="no">GET</span> <span class="no">BASE_URL</span><span class="o">/</span><span class="n">api</span><span class="o">/</span><span class="n">loans</span><span class="o">/</span><span class="n">v1</span><span class="o">/</span><span class="n">loan_requests</span><span class="o">/</span><span class="p">{</span><span class="n">token</span><span class="p">}</span><span class="o">/</span><span class="n">documents</span><span class="o">/</span><span class="p">{</span><span class="n">kind</span><span class="p">}</span><span class="o">.</span><span class="p">{</span><span class="n">pdf</span><span class="o">|</span><span class="n">html</span><span class="p">}</span>
</code></pre>
<p>Метод для генерации юридических документов для клиента. Возвращает документ в формате pdf или html (по умолчанию).</p>
<h3 id='kind-values'>Kind values</h3>
<table><thead>
<tr>
<th style="text-align: right"></th>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>[asp]</strong><br> <font color="#939da3">file</font></td>
<td style="text-align: left">Согласие использование аналога собственноручной подписи (АСП), т.е. согласие использовать смс код вместо ручной подписи.</td>
</tr>
<tr>
<td style="text-align: right"><strong>[offer]</strong><br> <font color="#939da3">file</font></td>
<td style="text-align: left">Договор оферты.</td>
</tr>
<tr>
<td style="text-align: right"><strong>[agreement]</strong><br> <font color="#939da3">file</font></td>
<td style="text-align: left">Согласие на обработку персональных данных.</td>
</tr>
<tr>
<td style="text-align: right"><strong>[third_parties]</strong><br> <font color="#939da3">file</font></td>
<td style="text-align: left">Согласие на взаимодействие с третьими лицами, направленное на возврат просроченной задолженности.</td>
</tr>
</tbody></table>
<h1 id='cb76858662'>Коды ошибок</h1>
<table><thead>
<tr>
<th style="text-align: right">Код</th>
<th style="text-align: left">Комментарии</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right"><strong>200</strong></td>
<td style="text-align: left">Всё ок.</td>
</tr>
<tr>
<td style="text-align: right"><strong>400</strong></td>
<td style="text-align: left">Некорректный формат json запроса.</td>
</tr>
<tr>
<td style="text-align: right"><strong>422</strong></td>
<td style="text-align: left">В запросе содержится ошибка. Описание конкретных полей, где содержатся ошибки, находятся в массиве <code>errors</code>.</td>
</tr>
</tbody></table>
<h1 id='what-39-s-new'>What&#39;s new</h1>
<p>23.08.2018<br>
1. Added <code>missing_documents</code> to <code>GET client</code>. Represent client photo files that are missing for client.<br>
2. Added <code>term_id</code> to <code>GET loan_request</code> and <code>POST loan_request/loan</code> to specify exact loan products.<br>
3. Added <code>agree_sms_info</code> flag to <code>POST loan/finalization</code>. Used to specify if client wants to use sms-information feature.<br>
4. Added <code>sms_info</code> to <code>GET loan_requests/{token}</code> to specify sms-information price for product calculation.<br>
5. Added <code>store_id</code> to <code>POST loan_requests</code> to specify store order for further matching.<br></p>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
